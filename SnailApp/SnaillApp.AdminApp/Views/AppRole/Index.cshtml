@model AppRoleViewModel

@{
    ViewBag.Title = "Phân quyền";
}

@section Vendors_CSS{
    <link rel="stylesheet" href="@Url.Content("~/plugins/DataTables/css/jquery.dataTables.css")" type="text/css">
    <link rel="stylesheet" href="@Url.Content("~/plugins/DataTables/css/dataTables.bootstrap4.min.css")" type="text/css">
}

@section Custom_CSS{
    <link href="@Url.Content("~/css/customiseDatatable.css")" rel="stylesheet" />
}

@section Vendors_Scripts{
    <script src="@Url.Content("~/plugins/DataTables/js/jquery.dataTables.min.js")"></script>
    <script src="@Url.Content("~/plugins/DataTables/js/dataTables.bootstrap4.min.js")"></script>
}

@section Custom_Scripts{

    <script type="text/javascript" src="@Url.Content("~/js/customiseDatatable.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/js/AppRole/Index.js")"></script>
}

<script>
    var user = {
        userId: '@Model.CurrentUserRole.Id',
        userName: '@User.Identity.Name',
        roles: {
            isAllowEdit: @if (Model.CurrentUserRole.IsAllowEdit == true) {<text>true</text>} else {<text>false</text>},
            isAllowDelete: @if (Model.CurrentUserRole.IsAllowDelete == true) {<text>true</text>} else {<text>false</text>}
        }
    };


    $(document).ready(function () {
        AppRole.init();
    });

</script>

@await Html.PartialAsync("_PartialToolbar")
<div class="card">
	<div class="card-body">
		<div class="d-lg-flex align-items-center mb-4 gap-3">
			<div class="position-relative">
				<input type="text" class="form-control ps-5 radius-30" placeholder="Search" id="dtTableSearch"> <span class="position-absolute top-50 product-show translate-middle-y"><i class="bx bx-search"></i></span>
			</div>
			<div class="ms-auto">
				@if (Model.CurrentUserRole.IsAllowEdit)
                {
                    <text>
						<button type="button"class="btn btn-primary mt-2 mt-lg-0" name="btnCreate">Create</button>
                                  
                    </text>
                }
                @if (Model.CurrentUserRole.IsAllowDelete)
                {
                    <text>
						<button type="button"class="btn btn-danger mt-2 mt-lg-0" name="btnDelete">Delete</button>
                    </text>
                }
			</div>
		</div>
		<div class="table-responsive">
            <table class="table mb-0 align-middle table-row-dashed fs-6 gy-5 dataTable no-footer" id="dtTable" role="grid"></table>
		</div>
	</div>
</div>

<div class="modal fade" id="modal_edit" tabindex="-1" style="display: none;" aria-hidden="true">
	<div class="modal-dialog modal-md">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="modal_edit_header_text"></h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
                <form id="modal_edit_form">
                    <div class="row g-0">
					
						<div class="col-md-12" >
							<label class="form-label">Code</label>
							<input type="text" class="form-control radius-15" name="modal_edit_form_code" data-field="Code" placeholder="Enter code">
						</div>
						<div class="col-md-12" >
							<label class="form-label">Name</label>
							<input type="text" class="form-control radius-15" name="modal_edit_form_name" data-field="Name" placeholder="Enter name">
						</div>
						<div class="col-md-12" >
							<label class="form-label">Description</label>
							<input type="text" class="form-control radius-15" data-field="Description" placeholder="Enter name">
						</div>
					</div>
                </form>
            </div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
				<button type="button" class="btn btn-primary" id="modal_edit_submit" name="btnSubmitModal">Save</button>
			</div>
		</div>
	</div>
</div>
	
            @await Html.PartialAsync("_PartialConfirmDeleteModal")


