@model LeftSideBarViewModel

<div class="sidebar-header">
    <div>
        <a href="/"><img class="logo-icon" alt="Snail Soft" src="~/snailsoft/assets/images/logo.png"></a>

    </div>
    <div>
        <h4 class="logo-text">My Hospital</h4>
    </div>
    <div class="toggle-icon ms-auto">
        <i class='bx bx-arrow-to-left'></i>
    </div>
</div>
<!--navigation-->
<ul class="metismenu" id="menu">
    @foreach (var menuCap1 in Model.Menus.Where(m => m.ParentId == null).OrderBy(m => m.SortOrder))
    {
        if (Model.Menus.Count(m => m.ParentId != null && m.ParentId == menuCap1.Id) > 0)
        {
            <li>
                <a href="javascript:;" class="has-arrow">
                    <div class="parent-icon">
                        <i class='bx bx-@menuCap1.Icon'></i>
                    </div>
                    <div class="menu-title">@menuCap1.Name</div>
                </a>

                <ul>
                    @foreach (var menuCap2 in Model.Menus.Where(m => m.ParentId != null && m.ParentId == menuCap1.Id).OrderBy(m => m.SortOrder))
                    {
                        if (Model.Menus.Count(m => m.ParentId != null && m.ParentId == menuCap2.Id) > 0)
                        {
                            <li>
                                <a href="javascript:void(0);" data-action="click-trigger">
                                    @if (!string.IsNullOrEmpty(menuCap2.Icon))
                                    {
                                        <span class="menu-icon"><i class="@menuCap2.Icon"></i></span>
                                    }
                                    <span class="menu-text">@menuCap2.Name</span>
                                    <span class="menu-badge"><span class="badge vd_bg-black-30"><i class="fa fa-angle-down"></i></span></span>
                                </a>
                                <div class="child-menu" data-action="click-target">
                                    <ul>
                                        @foreach (var menuCap3 in Model.Menus.Where(m => m.ParentId != null && m.ParentId == menuCap2.Id).OrderBy(m => m.SortOrder))
                                        {
                                            <li>
                                                <a href="@(!string.IsNullOrEmpty(menuCap3.Link) ? menuCap3.Link : "javascript:void(0);")">
                                                    @if (!string.IsNullOrEmpty(menuCap3.Icon))
                                                    {
                                                        <span class="menu-icon"><i class="@menuCap3.Icon"></i></span>
                                                    }
                                                    <span class="menu-text">@menuCap3.Name</span>
                                                </a>
                                            </li>
                                        }
                                    </ul>
                                </div>
                            </li>
                        }
                        else
                        {

                            <li>
                                <a href="@(!string.IsNullOrEmpty(menuCap2.Link) ? menuCap2.Link : "javascript:void(0);")">
                                    @if (!string.IsNullOrEmpty(menuCap2.Icon))
                                    {
                                        <i class="bx bx-@menuCap2.Icon"></i>
                                    }
                                    else
                                    {
                                        <div class="parent-icon">
                                            <i class="bx bx-right-arrow-alt"></i>
                                        </div>
                                    }

                                    <div class="menu-title">@menuCap2.Name</div>

                                </a>
                            </li>
                        }
                    }
                </ul>

            </li>
        }
        else
        {

            <li>
                <a href="@(!string.IsNullOrEmpty(menuCap1.Link) ? menuCap1.Link : "javascript:void(0);")">
                    <div class="parent-icon">
                        <i class="bx bx-@menuCap1.Icon"></i>
                    </div>
                    <div class="menu-title">@menuCap1.Name</div>
                </a>
            </li>
        }
    }
</ul>
<!--end navigation-->

    <!--end::Brand-->
    <!--begin::Aside menu-->
    <div class="aside-menu flex-column-fluid">
        <!--begin::Aside Menu-->
        <div class="hover-scroll-overlay-y my-5 my-lg-5" id="kt_aside_menu_wrapper" data-kt-scroll="true" data-kt-scroll-activate="{default: false, lg: true}" data-kt-scroll-height="auto" data-kt-scroll-dependencies="#kt_aside_logo, #kt_aside_footer" data-kt-scroll-wrappers="#kt_aside_menu" data-kt-scroll-offset="0">
            <!--begin::Menu-->
            <div class="menu menu-column menu-title-gray-800 menu-state-title-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500" id="#kt_aside_menu" data-kt-menu="true">
                @Html.Raw(Model.HtmlMenus)
            </div>
            <!--end::Menu-->
        </div>
        <!--end::Aside Menu-->
    </div>
    <!--end::Aside menu-->
</div>
<!--end::Aside-->